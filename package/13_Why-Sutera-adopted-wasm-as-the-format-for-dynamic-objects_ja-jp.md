# Suteraが動的オブジェクトの形式としてWebAssembly（Wasm）を採用した理由

動的なオブジェクトを実現するためには、SuteraPackageにクライアントが実行可能な形式でプログラムを埋め込む必要があります。
我々がバイナリファイルの配布という安易な方法ではなく、Wasmを利用することを選んだのには以下の3つの理由が挙げられます。

## マルチプラットフォームでの動作

Suteraは様々な場所での利用が期待される仕様であるため、多くの実行環境の上で動作することが求められます。
しかし、想定されうる全てのアーキテクチャに対してコンパイルされたバイナリを用意するのは現実的でありません。
一方で、Wasmであれば容易にマルチプラットフォームで動作させることが可能です。


## クライアントの安全

プログラム実行によりクライアントが危険に晒されるようなことはあってはいけません。
SuteraPackageの作成者が必ずしも信頼に値する人物だとは限らないため、不正なプログラムが含まれている可能性があります。
「Worldインスタンスに参加する」「特定のAvatarを利用するユーザーと会う」などの出来事が、実行ファイルのダウンロードと同等のリスクになることは望ましくありません。
一方で、Wasmはサンドボックス上で実行されるため、クライアントを脅威から守りながらプログラムを動作させることが可能です。

## 権限の管理

プログラムの自由度とクライアントの安全を両立するため、プログラムが干渉できる範囲を管理できることは重要でしょう。
例えば、SuteraPackageがHTTP通信を行なったり、ローカルディスクにアクセスしようとした際には、クライアントの承認を得るべきです。
そのためにバイナリファイルの動作に介入することは非現実的ですが、Wasmであれば権限ベースでの管理が可能なのです。
